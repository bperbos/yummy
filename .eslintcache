[{"/Users/baptisteperbos/Sites/yummy/app/javascript/react/Home.tsx":"1","/Users/baptisteperbos/Sites/yummy/app/javascript/react/hooks/useDebounce.tsx":"2","/Users/baptisteperbos/Sites/yummy/app/javascript/react/index.tsx":"3"},{"size":7265,"mtime":1693650694644,"results":"4","hashOfConfig":"5"},{"size":395,"mtime":1693651210280,"results":"6","hashOfConfig":"5"},{"size":239,"mtime":1693650894844,"results":"7","hashOfConfig":"5"},{"filePath":"8","messages":"9","suppressedMessages":"10","errorCount":44,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"11"},"gsvzhx",{"filePath":"12","messages":"13","suppressedMessages":"14","errorCount":6,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"15"},{"filePath":"16","messages":"17","suppressedMessages":"18","errorCount":4,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"19"},"/Users/baptisteperbos/Sites/yummy/app/javascript/react/Home.tsx",["20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63"],[],"import React, { useEffect } from \"react\";\nimport useDebounce from 'hooks/useDebounce'\n\ninterface Recipe {\n    id: number,\n    category: string,\n    cook_time_min: number,\n    image_url: string,\n    ingredients: string[],\n    prep_time_min: number,\n    ratings: number,\n    title: string,\n}\n\n\nconst useRecipes = (search: string, currentPage: number): [Recipe[], number] => {\n    const [recipes, setRecipes] = React.useState([])\n    const [totalPages, setTotalPages] = React.useState(0)\n\n    const fetchData = async (search, currentPage) => {\n        const result = await fetch(`recipes.json?page=${currentPage}${search.length > 0 ? `&search=${search}` : ''}`)\n        const jayson = await result.json()\n        setRecipes(jayson.data)\n        setTotalPages(jayson.meta.total)\n    }\n\n    useEffect(() => {\n        fetchData(search, currentPage)\n    }, [search, currentPage])\n\n    return [recipes, totalPages]\n}\n\nconst Pagination = ({\n    currentPage,\n    setCurrentPage,\n    totalPages\n}: {\n    currentPage: number,\n    setCurrentPage: (value: number) => null,\n    totalPages: number,\n}) => {\n\n    const nextPage = () => {\n        setCurrentPage(prevPage => Math.min(prevPage + 1, totalPages))\n    }\n\n    const prevPage = () => {\n        setCurrentPage(prevPage => Math.max(1, prevPage - 1))\n    }\n\n    return (\n        <div className=\"flex flex-row justify-end items-center mt-2 w-full\">\n            <span className=\"text-sm text-gray-700\">\n                Page <span className=\"font-semibold text-gray-900\">{currentPage}</span> out of <span className=\"font-semibold text-gray-900\">{totalPages}</span>\n            </span>\n            <div className=\"inline-flex ml-2\">\n                <button disabled={currentPage === 1} onClick={() => prevPage()} className=\"flex items-center justify-center px-3 h-8 text-sm font-medium text-white bg-theme-pink rounded-l hover:bg-theme-light-pink disabled:opacity-50\">\n                    <svg className=\"w-3.5 h-3.5 mr-2\" aria-hidden=\"true\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 14 10\">\n                        <path stroke=\"currentColor\" strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M13 5H1m0 0 4 4M1 5l4-4\" />\n                    </svg>\n                    Prev\n                </button>\n                <button onClick={() => nextPage()} disabled={currentPage === totalPages} className=\"flex items-center justify-center px-3 h-8 text-sm font-medium text-white bg-theme-pink border-0 border-l border-theme-light-pink rounded-r hover:bg-theme-light-pink disabled:opacity-50\">\n                    Next\n                    <svg className=\"w-3.5 h-3.5 ml-2\" aria-hidden=\"true\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 14 10\">\n                        <path stroke=\"currentColor\" strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M1 5h12m0 0L9 1m4 4L9 9\" />\n                    </svg>\n                </button>\n            </div>\n        </div>\n    )\n}\n\nconst Rating = ({ ratings }) => {\n    return (\n        <div className=\"flex items-center\">\n            <svg className=\"w-4 h-4 text-yellow-300 mr-1\" aria-hidden=\"true\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"currentColor\" viewBox=\"0 0 22 20\">\n                <path d=\"M20.924 7.625a1.523 1.523 0 0 0-1.238-1.044l-5.051-.734-2.259-4.577a1.534 1.534 0 0 0-2.752 0L7.365 5.847l-5.051.734A1.535 1.535 0 0 0 1.463 9.2l3.656 3.563-.863 5.031a1.532 1.532 0 0 0 2.226 1.616L11 17.033l4.518 2.375a1.534 1.534 0 0 0 2.226-1.617l-.863-5.03L20.537 9.2a1.523 1.523 0 0 0 .387-1.575Z\" />\n            </svg>\n            <p className=\"text-sm font-bold text-theme-blue\">{ratings}</p>\n        </div>\n    )\n}\n\nconst RecipeCard = ({\n    category,\n    cook_time_min,\n    image_url,\n    ingredients,\n    prep_time_min,\n    ratings,\n    title,\n}: Recipe) => {\n    return (\n        <div className=\"recipe-card bg-white max-w-sm rounded overflow-hidden shadow-lg w-full\">\n            <div className=\"relative h-48 w-full overflow-hidden text-center bg-gray-800\">\n                <div className=\"absolute top-2 right-2 rounded-md shadow-sm bg-white p-2\">\n                    <Rating ratings={ratings} />\n                </div>\n                <div className=\"absolute top-2 left-2 shadow-sm bg-gray-100 text-gray-800 px-2.5 py-0.5 rounded-full\">\n                    <div className=\"flex items-center\">\n                        <span className=\"text-xs font-medium\">{category}</span>\n                    </div>\n                </div>\n                <img className=\"inline object-fill\" src={image_url} alt={title} />\n            </div>\n            <div className=\"px-6 py-4 border-b-2 border-theme-purple\">\n                <div className=\"flex items-center justify-between mb-2\">\n                    <div className=\"font-bold text-xl text-gray-800\">{title}</div>\n                </div>\n                <div className=\"text-gray-700 text-base h-36 overflow-y-auto\">\n                    <ul>\n                        {ingredients.map((ingredient) => <li>{ingredient}</li>)}\n                    </ul>\n                </div>\n            </div>\n            <div className=\"flex justify-between items-center px-6 py-4 text-sm\">\n                {prep_time_min === 0 ? <span className=\"font-bold\">No preping</span> : <span>Prep <span className=\"font-bold\">{prep_time_min}</span>min</span>}\n                {cook_time_min === 0 ? <span className=\"font-bold\">No cooking</span> : <span>Cook <span className=\"font-bold\">{cook_time_min}</span>min</span>}\n            </div>\n        </div>\n    )\n}\n\nconst SearchBar = ({ search, setSearch }) => {\n    return (\n        <div className=\"flex mt-2 rounded-md shadow-sm items-center justify-center w-full\">\n            <input\n                type=\"text\"\n                name=\"search\"\n                id=\"search\"\n                className=\"block w-full h-14 rounded-md border-0 py-1.5 pl-7 text-gray-900 ring-1 ring-inset ring-theme-purple placeholder:text-gray-400 focus:ring-4 outline-none sm:text-sm sm:leading-6\"\n                placeholder=\"Banana bread, Garlic and tomatoes, Mexican recipes...\"\n                value={search}\n                onChange={(e) => setSearch(e.target.value)}\n            />\n        </div>\n    )\n}\n\nexport default () => {\n    const [currentPage, setCurrentPage] = React.useState<number>(1)\n    const [search, setSearch] = React.useState<string>('')\n    const debouncedSearch = useDebounce<string>(search, 500)\n    const [recipes, totalPages] = useRecipes(debouncedSearch, currentPage)\n\n    React.useEffect(() => {\n        setCurrentPage(1)\n    }, [debouncedSearch])\n\n    return (\n        <div className=\"flex flex-col w-full items-center\">\n            <div className=\"flex flex-col items-center justify-center w-full md:w-4/5 mb-10\">\n                <SearchBar search={search} setSearch={setSearch} />\n                <Pagination currentPage={currentPage} setCurrentPage={setCurrentPage} totalPages={totalPages} />\n            </div>\n            <div className=\"flex flex-wrap justify-evenly gap-x-4 gap-y-8\">\n                {recipes.length === 0 ? (\n                    <span>No results for {debouncedSearch}</span>\n                ) : recipes.map(({ id, ...recipe }) => <RecipeCard key={id} {...recipe} />)\n                }\n            </div>\n        </div>\n    )\n};\n","/Users/baptisteperbos/Sites/yummy/app/javascript/react/hooks/useDebounce.tsx",["64","65","66","67","68","69"],[],"\nimport { useState, useEffect } from \"react\";\n\nfunction useDebounce<T>(value: T, delay: number): T {\n    const [debouncedValue, setDebouncedValue] = useState<T>(value)\n\n    useEffect(() => {\n        const timeoutHandler = setTimeout(() => setDebouncedValue(value), delay)\n        return () => clearTimeout(timeoutHandler)\n    }, [value])\n\n    return debouncedValue\n}\n\nexport default useDebounce\n","/Users/baptisteperbos/Sites/yummy/app/javascript/react/index.tsx",["70","71","72","73"],[],"import React from \"react\";\nimport { createRoot } from \"react-dom/client\";\nimport Home from \"./Home\";\n\nwindow.addEventListener(\"load\", () => {\n  const root = createRoot(\n    document.getElementById('root')\n  );\n  root.render(<Home />);\n});\n",{"ruleId":"74","severity":2,"message":"75","line":17,"column":11,"nodeType":"76","messageId":"77","endLine":17,"endColumn":53},{"ruleId":"78","severity":2,"message":"79","line":17,"column":35,"nodeType":"80","messageId":"81","endLine":17,"endColumn":49},{"ruleId":"82","severity":2,"message":"83","line":17,"column":35,"nodeType":"80","messageId":"84","endLine":17,"endColumn":49},{"ruleId":"74","severity":2,"message":"75","line":18,"column":11,"nodeType":"76","messageId":"77","endLine":18,"endColumn":58},{"ruleId":"78","severity":2,"message":"79","line":18,"column":41,"nodeType":"80","messageId":"81","endLine":18,"endColumn":55},{"ruleId":"82","severity":2,"message":"83","line":18,"column":41,"nodeType":"80","messageId":"84","endLine":18,"endColumn":55},{"ruleId":"78","severity":2,"message":"85","line":21,"column":71,"nodeType":"80","messageId":"81","endLine":21,"endColumn":84},{"ruleId":"74","severity":2,"message":"75","line":22,"column":15,"nodeType":"76","messageId":"77","endLine":22,"endColumn":43},{"ruleId":"82","severity":2,"message":"83","line":23,"column":9,"nodeType":"86","messageId":"84","endLine":23,"endColumn":19},{"ruleId":"78","severity":2,"message":"87","line":23,"column":20,"nodeType":"80","messageId":"81","endLine":23,"endColumn":31},{"ruleId":"82","severity":2,"message":"83","line":24,"column":9,"nodeType":"86","messageId":"84","endLine":24,"endColumn":22},{"ruleId":"78","severity":2,"message":"88","line":24,"column":23,"nodeType":"80","messageId":"81","endLine":24,"endColumn":34},{"ruleId":"82","severity":2,"message":"83","line":27,"column":5,"nodeType":"86","messageId":"84","endLine":27,"endColumn":14},{"ruleId":"89","severity":2,"message":"90","line":28,"column":9,"nodeType":"91","messageId":"92","endLine":28,"endColumn":39,"suggestions":"93"},{"ruleId":"94","severity":2,"message":"95","line":31,"column":5,"nodeType":"96","messageId":"97","endLine":31,"endColumn":33},{"ruleId":"98","severity":2,"message":"99","line":45,"column":45,"nodeType":"100","messageId":"101","endLine":45,"endColumn":57},{"ruleId":"94","severity":2,"message":"102","line":52,"column":5,"nodeType":"96","messageId":"103","endLine":72,"endColumn":6},{"ruleId":"94","severity":2,"message":"102","line":76,"column":5,"nodeType":"96","messageId":"103","endLine":83,"endColumn":6},{"ruleId":"94","severity":2,"message":"102","line":95,"column":5,"nodeType":"96","messageId":"103","endLine":123,"endColumn":6},{"ruleId":"94","severity":2,"message":"102","line":114,"column":58,"nodeType":"104","messageId":"103","endLine":114,"endColumn":79},{"ruleId":"94","severity":2,"message":"102","line":127,"column":5,"nodeType":"96","messageId":"103","endLine":139,"endColumn":6},{"ruleId":"74","severity":2,"message":"75","line":135,"column":24,"nodeType":"86","messageId":"77","endLine":135,"endColumn":30},{"ruleId":"94","severity":2,"message":"102","line":136,"column":34,"nodeType":"105","messageId":"103","endLine":136,"endColumn":59},{"ruleId":"82","severity":2,"message":"83","line":136,"column":34,"nodeType":"86","messageId":"84","endLine":136,"endColumn":43},{"ruleId":"78","severity":2,"message":"106","line":136,"column":44,"nodeType":"80","messageId":"81","endLine":136,"endColumn":52},{"ruleId":"74","severity":2,"message":"75","line":143,"column":11,"nodeType":"76","messageId":"77","endLine":143,"endColumn":68},{"ruleId":"78","severity":2,"message":"79","line":143,"column":43,"nodeType":"80","messageId":"81","endLine":143,"endColumn":57},{"ruleId":"82","severity":2,"message":"83","line":143,"column":43,"nodeType":"80","messageId":"84","endLine":143,"endColumn":57},{"ruleId":"74","severity":2,"message":"75","line":144,"column":11,"nodeType":"76","messageId":"77","endLine":144,"endColumn":59},{"ruleId":"78","severity":2,"message":"79","line":144,"column":33,"nodeType":"80","messageId":"81","endLine":144,"endColumn":47},{"ruleId":"82","severity":2,"message":"83","line":144,"column":33,"nodeType":"80","messageId":"84","endLine":144,"endColumn":47},{"ruleId":"74","severity":2,"message":"75","line":145,"column":11,"nodeType":"76","messageId":"77","endLine":145,"endColumn":61},{"ruleId":"82","severity":2,"message":"83","line":145,"column":29,"nodeType":"86","messageId":"84","endLine":145,"endColumn":40},{"ruleId":"98","severity":2,"message":"107","line":146,"column":46,"nodeType":"86","messageId":"101","endLine":146,"endColumn":61},{"ruleId":"98","severity":2,"message":"99","line":146,"column":63,"nodeType":"86","messageId":"101","endLine":146,"endColumn":74},{"ruleId":"78","severity":2,"message":"108","line":148,"column":5,"nodeType":"80","messageId":"81","endLine":148,"endColumn":20},{"ruleId":"82","severity":2,"message":"83","line":148,"column":5,"nodeType":"80","messageId":"84","endLine":148,"endColumn":20},{"ruleId":"82","severity":2,"message":"83","line":149,"column":9,"nodeType":"86","messageId":"84","endLine":149,"endColumn":23},{"ruleId":"94","severity":2,"message":"102","line":152,"column":5,"nodeType":"96","messageId":"103","endLine":165,"endColumn":6},{"ruleId":"74","severity":2,"message":"75","line":155,"column":36,"nodeType":"86","messageId":"77","endLine":155,"endColumn":42},{"ruleId":"74","severity":2,"message":"75","line":155,"column":55,"nodeType":"86","messageId":"77","endLine":155,"endColumn":64},{"ruleId":"74","severity":2,"message":"75","line":156,"column":42,"nodeType":"86","messageId":"77","endLine":156,"endColumn":53},{"ruleId":"74","severity":2,"message":"75","line":156,"column":71,"nodeType":"86","messageId":"77","endLine":156,"endColumn":85},{"ruleId":"94","severity":2,"message":"102","line":161,"column":56,"nodeType":"104","messageId":"103","endLine":161,"endColumn":91},{"ruleId":"74","severity":2,"message":"75","line":5,"column":11,"nodeType":"76","messageId":"77","endLine":5,"endColumn":67},{"ruleId":"82","severity":2,"message":"83","line":5,"column":49,"nodeType":"86","messageId":"84","endLine":5,"endColumn":57},{"ruleId":"82","severity":2,"message":"83","line":7,"column":5,"nodeType":"86","messageId":"84","endLine":7,"endColumn":14},{"ruleId":"94","severity":2,"message":"102","line":8,"column":49,"nodeType":"105","messageId":"103","endLine":8,"endColumn":73},{"ruleId":"82","severity":2,"message":"83","line":8,"column":49,"nodeType":"86","messageId":"84","endLine":8,"endColumn":66},{"ruleId":"94","severity":2,"message":"102","line":12,"column":5,"nodeType":"96","messageId":"103","endLine":12,"endColumn":26},{"ruleId":"74","severity":2,"message":"75","line":6,"column":9,"nodeType":"76","messageId":"77","endLine":8,"endColumn":4},{"ruleId":"82","severity":2,"message":"83","line":6,"column":16,"nodeType":"86","messageId":"84","endLine":6,"endColumn":26},{"ruleId":"78","severity":2,"message":"109","line":9,"column":3,"nodeType":"80","messageId":"81","endLine":9,"endColumn":14},{"ruleId":"82","severity":2,"message":"83","line":9,"column":3,"nodeType":"80","messageId":"84","endLine":9,"endColumn":14},"@typescript-eslint/no-unsafe-assignment","Unsafe assignment of an `any` value.","VariableDeclarator","anyAssignment","@typescript-eslint/no-unsafe-member-access","Unsafe member access .useState on an `any` value.","MemberExpression","unsafeMemberExpression","@typescript-eslint/no-unsafe-call","Unsafe call of an `any` typed value.","unsafeCall","Unsafe member access .length on an `any` value.","Identifier","Unsafe member access .data on an `any` value.","Unsafe member access .meta on an `any` value.","@typescript-eslint/no-floating-promises","Promises must be awaited, end with a call to .catch, end with a call to .then with a rejection handler or be explicitly marked as ignored with the `void` operator.","ExpressionStatement","floatingVoid",["110"],"@typescript-eslint/no-unsafe-return","Unsafe return of type `[any, any]` from function with return type `[Recipe[], number]`.","ReturnStatement","unsafeReturnAssignment","@typescript-eslint/no-unsafe-argument","Unsafe argument of type `any` assigned to a parameter of type `number`.","BinaryExpression","unsafeArgument","Unsafe return of an `any` typed value.","unsafeReturn","JSXElement","CallExpression","Unsafe member access .target on an `any` value.","Unsafe argument of type `any` assigned to a parameter of type `string`.","Unsafe member access .useEffect on an `any` value.","Unsafe member access .render on an `any` value.",{"messageId":"111","fix":"112","desc":"113"},"floatingFixVoid",{"range":"114","text":"115"},"Add void operator to ignore.",[812,812],"void "]